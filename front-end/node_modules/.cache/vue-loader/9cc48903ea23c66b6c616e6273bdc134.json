{"remainingRequest":"D:\\Users\\mygit\\Cloud_native_first_attempt\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Users\\mygit\\Cloud_native_first_attempt\\front-end\\src\\views\\User.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Users\\mygit\\Cloud_native_first_attempt\\front-end\\src\\views\\User.vue","mtime":1560686551497},{"path":"D:\\Users\\mygit\\Cloud_native_first_attempt\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Users\\mygit\\Cloud_native_first_attempt\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Users\\mygit\\Cloud_native_first_attempt\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Save from '@/components/Save.vue'\r\n\r\nexport default {\r\n  name: 'User',\r\n  components: {\r\n    Save\r\n  },\r\n  created: function () {\r\n    this.loading = true\r\n    this.$http.post(\r\n      'user'\r\n    ).then(\r\n      (resp) => {\r\n        this.saves = resp.data.saves\r\n        this.loadFail = false\r\n        this.loading = false\r\n      }, () => {\r\n        this.loadFail = true\r\n        this.loading = false\r\n      }\r\n    )\r\n  },\r\n  data: function () {\r\n    return {\r\n      username: '',\r\n      saves: [],\r\n      selectedSave: -1,\r\n      simulation: [[[]]],\r\n      saveSelected: false,\r\n      loading: false,\r\n      loadFail: false,\r\n      loadingSave: false,\r\n      loadSaveFail: false,\r\n      boardAmount: 0, // 该用户做过多少次模拟\r\n      maxStepAmount: 0, // 最长的一次模拟做了多少步\r\n      boardSuccessAmount: 0 // 在过程中没有出现全部死亡的模拟数\r\n    }\r\n  },\r\n  methods: {\r\n    fetchSave: function () {\r\n      this.loadingSave = true\r\n      this.saveSelected = true\r\n      this.$http.post(\r\n        '/save/get', {\r\n          id: this.selectedSave\r\n        }\r\n      ).then(\r\n        (resp) => {\r\n          this.simulation = resp.data.simulation\r\n          this.loadSaveFail = false\r\n          this.loadingSave = false\r\n        }, () => {\r\n          this.loadSaveFail = true\r\n          this.loadingSave = false\r\n        }\r\n      )\r\n      // this.simulation = [[[0, 1], [1, 0]], [[0, 0], [0, 1]], [[1, 0], [1, 0]]]\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"p-2\">\r\n    <div class=\"mb-3\">欢迎，{{ username }}！以下是您的统计数据：</div>\r\n    <div v-if=\"loading\">加载中……</div>\r\n    <div v-else-if=\"loadFail\">加载失败</div>\r\n    <div v-else>\r\n      <div>模拟数：{{ boardAmount }}</div>\r\n      <div>最长步数：{{ maxStepAmount }}</div>\r\n      <div>成功的模拟数（模拟中没有出现全部死亡的情况即算作成功）：{{ boardSuccessAmount }}</div>\r\n      <div></div>\r\n    </div>\r\n    <div class=\"p-2\">\r\n      <div class=\"p-2\">历史记录（存档id列表）：</div>\r\n      <div v-for=\"(save, i) in saves\" v-bind:key=\"i\">\r\n        {{ save }}\r\n      </div>\r\n      <hr class=\"bg-light\"/>\r\n      <div class=\"input-group p-2\">\r\n        <span class=\"offset-1 col-2\">存档id</span>\r\n        <input v-model=\"selectedSave\" class=\"offset-1 col-7\" type=\"number\" placeholder=\"存档id\"/>\r\n      </div>\r\n      <button class=\"btn btn-block btn-outline-info\" v-on:click=\"fetchSave()\">查看存档</button>\r\n    </div>\r\n    <div v-if=\"loadSaveFail\">加载存档失败</div>\r\n    <div v-else-if=\"loadingSave\">加载存档中……</div>\r\n    <Save v-else-if=\"saveSelected\" v-bind:simulation=\"simulation\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Save from '@/components/Save.vue'\r\n\r\nexport default {\r\n  name: 'User',\r\n  components: {\r\n    Save\r\n  },\r\n  created: function () {\r\n    this.loading = true\r\n    this.$http.post(\r\n      'user'\r\n    ).then(\r\n      (resp) => {\r\n        this.saves = resp.data.saves\r\n        this.loadFail = false\r\n        this.loading = false\r\n      }, () => {\r\n        this.loadFail = true\r\n        this.loading = false\r\n      }\r\n    )\r\n  },\r\n  data: function () {\r\n    return {\r\n      username: '',\r\n      saves: [],\r\n      selectedSave: -1,\r\n      simulation: [[[]]],\r\n      saveSelected: false,\r\n      loading: false,\r\n      loadFail: false,\r\n      loadingSave: false,\r\n      loadSaveFail: false,\r\n      boardAmount: 0, // 该用户做过多少次模拟\r\n      maxStepAmount: 0, // 最长的一次模拟做了多少步\r\n      boardSuccessAmount: 0 // 在过程中没有出现全部死亡的模拟数\r\n    }\r\n  },\r\n  methods: {\r\n    fetchSave: function () {\r\n      this.loadingSave = true\r\n      this.saveSelected = true\r\n      this.$http.post(\r\n        '/save/get', {\r\n          id: this.selectedSave\r\n        }\r\n      ).then(\r\n        (resp) => {\r\n          this.simulation = resp.data.simulation\r\n          this.loadSaveFail = false\r\n          this.loadingSave = false\r\n        }, () => {\r\n          this.loadSaveFail = true\r\n          this.loadingSave = false\r\n        }\r\n      )\r\n      // this.simulation = [[[0, 1], [1, 0]], [[0, 0], [0, 1]], [[1, 0], [1, 0]]]\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}